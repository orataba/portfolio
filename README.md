宏观因子驱动的多资产量化配置系统

本项目构建了一个基于共同因子（例如宏观因子）驱动的多资产配置系统，用于实现月度频率的战术资产配置（TAA）。系统结合了CFA的资产配置理论与Barra多因子风险模型的工程化实现思路，目标是构建一个具备周期穿越能力与黑天鹅防御性的资产配置框架。

系统核心目标： 在宏观周期变化下，动态识别风险与收益来源，调整组合权重，实现在风险可控前提下最大化夏普比率。

模型方法：
1. 因子风险建模：对每个资产进行回归，提取资产对宏观因子的暴露（β矩阵），使用EWMA方法估计因子协方差矩阵，残差方差代表特异风险，合成总风险矩阵。
2. 收益预测模块：利用下一期宏观因子（实操中可为预测或专家判断值），结合回归方程计算下一期预期收益率。输出 μₜ₊₁（预期收益向量）。
3. 组合优化模块：使用cvxpy凸优化求解最优权重，目标最大化组合夏普比率，支持非负权重、单资产权重区间等限制。
4. 风险与尾部指标：基于EWMA协方差预测未来波动，计算每个资产的 CVaR（条件在险价值），评估尾部风险暴露。
5. 滚动回测机制：采用月度滚动窗口，每次使用历史样本预测下一期。回测输出包括：年化收益率、波动率、夏普比率、CVaR、最大回撤等指标。

Demo回测：在有限样本下（因数据与因子覆盖限制），系统在某些区间内的夏普比率可达 1.5–2.0。结果随样本长度与因子选择而异，回测主要展示框架的完整性与稳定性。

可扩展方向：
1. 扩展因子库及数据数量
2. 使用ML模型预测共有因子数据，结合人工判断，增加因子数据预测精准度
3. 使用Ledoit–Wolf协方差矩阵收缩估计或其他方法增加风险预测精准度
4. 搭配交易和风控模块，实现更精细的策略回测